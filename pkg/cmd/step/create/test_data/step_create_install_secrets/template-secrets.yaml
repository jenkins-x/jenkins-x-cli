jenkins-x-platform:
  JXBasicAuth: {{ .Values.adminUser.username }}:{SHA}{{ .Values.adminUser.password | hashPassword }}

  chartmuseum:
    env:
      secret:
        BASIC_AUTH_USER: {{ .Values.adminUser.dummyEmptyValue | default "admin" }}
        BASIC_AUTH_PASS: {{ .Values.adminUser.password }}

  nexus:
      defaultAdminPassword: {{ .Values.adminUser.password }}

  PipelineSecrets:
      DockerConfig: |-
        {
            "credHelpers": {
                "gcr.io": "gcr",
                "us.gcr.io": "gcr",
                "eu.gcr.io": "gcr",
                "asia.gcr.io": "gcr",
                "staging-k8s.gcr.io": "gcr"
            }
        }
      GitCreds: https://{{ .Values.pipelineUser.github.username }}:{{ .Values.pipelineUser.github.token }}@{{ .Values.pipelineUser.github.host }}
      GithubToken: {{ .Values.pipelineUser.github.token }}
      MavenSettingsXML: |-
          <settings>
              <localRepository>/home/jenkins/.mvnrepository</localRepository>
              <!--This sends everything else to /public -->
              <mirrors>
                  <mirror>
                      <id>nexus</id>
                      <mirrorOf>external:*</mirrorOf>
                      <url>http://nexus/repository/maven-group/</url>
                  </mirror>
              </mirrors>

              <!-- lets disable the download progress indicator that fills up logs -->
              <interactiveMode>false</interactiveMode>

              <servers>
                  <server>
                      <id>local-nexus</id>
                      <username>{{ .Values.adminUser.username }}</username>
                      <password>{{ .Values.adminUser.password }}</password>
                  </server>
                  <server>
                      <id>nexus</id>
                      <username>{{ .Values.adminUser.username }}</username>
                      <password>{{ .Values.adminUser.password }}</password>
                  </server>
                  <server>
                      <id>docker.io</id>
                  </server>
              </servers>

              <profiles>
                  <profile>
                      <id>nexus</id>
                      <properties>
                          <altDeploymentRepository>local-nexus::default::http://nexus/repository/maven-snapshots/</altDeploymentRepository>
                          <altReleaseDeploymentRepository>local-nexus::default::http://nexus/repository/maven-releases/</altReleaseDeploymentRepository>
                          <altSnapshotDeploymentRepository>local-nexus::default::http://nexus/repository/maven-snapshots/</altSnapshotDeploymentRepository>
                      </properties>

                      <repositories>
                          <repository>
                              <id>central</id>
                              <url>http://central</url>
                              <releases><enabled>true</enabled></releases>
                              <snapshots><enabled>true</enabled></snapshots>
                          </repository>
                      </repositories>
                      <pluginRepositories>
                          <pluginRepository>
                              <id>central</id>
                              <url>http://central</url>
                              <releases><enabled>true</enabled></releases>
                              <snapshots><enabled>true</enabled></snapshots>
                          </pluginRepository>
                      </pluginRepositories>
                  </profile>
                  <profile>
                      <id>repo.jenkins-ci.org</id>
                      <properties>
                          <altDeploymentRepository>repo.jenkins-ci.org::default::https://repo.jenkins-ci.org/releases/</altDeploymentRepository>
                          <altReleaseDeploymentRepository>repo.jenkins-ci.org::default::https://repo.jenkins-ci.org/releases/</altReleaseDeploymentRepository>
                          <altSnapshotDeploymentRepository>repo.jenkins-ci.org::default::https://repo.jenkins-ci.org/snapshots/</altSnapshotDeploymentRepository>
                      </properties>

                  </profile>
                  <profile>
                      <id>maven.jenkins-ci.org</id>
                      <properties>
                          <altDeploymentRepository>maven.jenkins-ci.org::default::https://maven.jenkins-ci.org/releases/</altDeploymentRepository>
                          <altReleaseDeploymentRepository>maven.jenkins-ci.org::default::https://maven.jenkins-ci.org/releases/</altReleaseDeploymentRepository>
                          <altSnapshotDeploymentRepository>maven.jenkins-ci.org::default::https://maven.jenkins-ci.org/snapshots/</altSnapshotDeploymentRepository>
                      </properties>

                  </profile>
                  <profile>
                      <id>release</id>
                      <properties>
                          <gpg.executable>gpg</gpg.executable>
                          <gpg.passphrase>{{ .Values.gpg.passphrase }}</gpg.passphrase>
                      </properties>
                  </profile>
              </profiles>

              <activeProfiles>
                  <!--<activeProfile>nexus</activeProfile>-->
              </activeProfiles>
          </settings>
      SSHConfig: |-
          Host github.com
              User git
              IdentityFile /root/.ssh-git/ssh-key
              StrictHostKeyChecking no

prow:
  hmacToken: {{ .Values.prow.hmacToken }}
  oauthToken: {{ .Values.pipelineUser.github.token }}
  user: {{ .Values.pipelineUser.github.username }}

tekton:
  auth:
    git:
      username: {{ .Values.pipelineUser.github.username }}
      password: {{ .Values.pipelineUser.github.token }}
    docker:
      username: {{ .Values.docker.username }}
      password: "{{ .Values.docker.password }}"
      url: {{ .Values.docker.url }}

JenkinsXGitHub:
    username: {{ .Values.pipelineUser.github.username }}
    password: {{ .Values.pipelineUser.github.token }}
